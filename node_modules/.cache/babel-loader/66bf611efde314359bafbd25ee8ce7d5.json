{"ast":null,"code":"import { LOAD_REQUEST, LOAD_SUCCESS, LOAD_FAILURE, INCREMENT_BID } from \"./actionTypes\";\nconst INITIAL_STATE = {\n  data: [],\n  loading: false,\n  error: false\n};\n\nconst reducer = (state = INITIAL_STATE, action) => {\n  console.log(\"state\", state);\n\n  switch (action.type) {\n    case LOAD_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case LOAD_SUCCESS:\n      return { ...state,\n        data: action.payload,\n        loading: false,\n        error: false\n      };\n\n    case LOAD_FAILURE:\n      return { ...state,\n        loading: false,\n        error: true,\n        data: []\n      };\n\n    case INCREMENT_BID:\n      console.log(\"BID\", action.payload);\n      const test = state.data.find(item => item.id === action.payload);\n      const lastItem = test.bids[test.bids.length - 1];\n      const newAmount = lastItem ? lastItem.amount + 250 : 0;\n      console.log(\"banana\", newAmount); // console.log(\"BID\", lastItem.amount);\n      // console.log(\"BID\", test.bids);\n\n      const newBid = {\n        amount: newAmount + 250,\n        dealership: \"Instacarro\",\n        createdAt: \"2018\",\n        channel: \"Web\"\n      };\n      const newBidPush = test.bids.push(newBid);\n      console.log(\"BID\", test);\n      return { ...state,\n        data: [...state.data, newBidPush]\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/rafa/Documents/tmp/insta-test/src/store/ducks/cards/index.js"],"names":["LOAD_REQUEST","LOAD_SUCCESS","LOAD_FAILURE","INCREMENT_BID","INITIAL_STATE","data","loading","error","reducer","state","action","console","log","type","payload","test","find","item","id","lastItem","bids","length","newAmount","amount","newBid","dealership","createdAt","channel","newBidPush","push"],"mappings":"AAAA,SACEA,YADF,EAEEC,YAFF,EAGEC,YAHF,EAIEC,aAJF,QAKO,eALP;AAOA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,IAAI,EAAE,EADc;AAEpBC,EAAAA,OAAO,EAAE,KAFW;AAGpBC,EAAAA,KAAK,EAAE;AAHa,CAAtB;;AAKA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGL,aAAT,EAAwBM,MAAxB,KAAmC;AACjDC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBH,KAArB;;AACA,UAAQC,MAAM,CAACG,IAAf;AACE,SAAKb,YAAL;AACE,aAAO,EAAE,GAAGS,KAAL;AAAYH,QAAAA,OAAO,EAAE;AAArB,OAAP;;AAEF,SAAKL,YAAL;AACE,aAAO,EACL,GAAGQ,KADE;AAELJ,QAAAA,IAAI,EAAEK,MAAM,CAACI,OAFR;AAGLR,QAAAA,OAAO,EAAE,KAHJ;AAILC,QAAAA,KAAK,EAAE;AAJF,OAAP;;AAOF,SAAKL,YAAL;AACE,aAAO,EAAE,GAAGO,KAAL;AAAYH,QAAAA,OAAO,EAAE,KAArB;AAA4BC,QAAAA,KAAK,EAAE,IAAnC;AAAyCF,QAAAA,IAAI,EAAE;AAA/C,OAAP;;AAEF,SAAKF,aAAL;AACEQ,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,MAAM,CAACI,OAA1B;AACA,YAAMC,IAAI,GAAGN,KAAK,CAACJ,IAAN,CAAWW,IAAX,CAAiBC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYR,MAAM,CAACI,OAA7C,CAAb;AACA,YAAMK,QAAQ,GAAGJ,IAAI,CAACK,IAAL,CAAUL,IAAI,CAACK,IAAL,CAAUC,MAAV,GAAmB,CAA7B,CAAjB;AAEA,YAAMC,SAAS,GAAGH,QAAQ,GAAGA,QAAQ,CAACI,MAAT,GAAkB,GAArB,GAA2B,CAArD;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBU,SAAtB,EANF,CAQE;AACA;;AAEA,YAAME,MAAM,GAAG;AACbD,QAAAA,MAAM,EAAED,SAAS,GAAG,GADP;AAEbG,QAAAA,UAAU,EAAE,YAFC;AAGbC,QAAAA,SAAS,EAAE,MAHE;AAIbC,QAAAA,OAAO,EAAE;AAJI,OAAf;AAMA,YAAMC,UAAU,GAAGb,IAAI,CAACK,IAAL,CAAUS,IAAV,CAAeL,MAAf,CAAnB;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBG,IAAnB;AACA,aAAO,EACL,GAAGN,KADE;AAELJ,QAAAA,IAAI,EAAE,CAAC,GAAGI,KAAK,CAACJ,IAAV,EAAgBuB,UAAhB;AAFD,OAAP;;AAKF;AACE,aAAOnB,KAAP;AAxCJ;AA0CD,CA5CD;;AA8CA,eAAeD,OAAf","sourcesContent":["import {\n  LOAD_REQUEST,\n  LOAD_SUCCESS,\n  LOAD_FAILURE,\n  INCREMENT_BID,\n} from \"./actionTypes\";\n\nconst INITIAL_STATE = {\n  data: [],\n  loading: false,\n  error: false,\n};\nconst reducer = (state = INITIAL_STATE, action) => {\n  console.log(\"state\", state);\n  switch (action.type) {\n    case LOAD_REQUEST:\n      return { ...state, loading: true };\n\n    case LOAD_SUCCESS:\n      return {\n        ...state,\n        data: action.payload,\n        loading: false,\n        error: false,\n      };\n\n    case LOAD_FAILURE:\n      return { ...state, loading: false, error: true, data: [] };\n\n    case INCREMENT_BID:\n      console.log(\"BID\", action.payload);\n      const test = state.data.find((item) => item.id === action.payload);\n      const lastItem = test.bids[test.bids.length - 1];\n\n      const newAmount = lastItem ? lastItem.amount + 250 : 0;\n      console.log(\"banana\", newAmount);\n\n      // console.log(\"BID\", lastItem.amount);\n      // console.log(\"BID\", test.bids);\n\n      const newBid = {\n        amount: newAmount + 250,\n        dealership: \"Instacarro\",\n        createdAt: \"2018\",\n        channel: \"Web\",\n      };\n      const newBidPush = test.bids.push(newBid);\n      console.log(\"BID\", test);\n      return {\n        ...state,\n        data: [...state.data, newBidPush],\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}